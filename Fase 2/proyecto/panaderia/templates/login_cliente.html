{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block contenido %}
<br>
<br>
<br>

<div class="container-fluid col-md-6 offset-md-3" style="background-color:rgba(255, 255, 255, 0.477);">
    <div class="row mb-5">
        <br>
        <div class="text-center">
            <br>
            <h3>Registro usuario</h3>
        </div>        
    
        <form method="POST" action="{% url 'registrar_cliente' %}" enctype="multipart/form-data" onsubmit="return validarFormulario()">
            {% csrf_token %} 

            {{ form.non_field_errors }}  <!-- Mostrar errores generales -->
            
            <div class="form-group">
                <label for="id_rut">RUT</label>
                <input type="text" id="id_rut" name="rut" class="form-control" 
                       placeholder="Ej: 12.345.678-9" maxlength="12" required 
                       pattern="\d{1,8}\.\d{3}\.\d{3}-[\dkK]{1}" title="Formato: 12.345.678-9">
                {{ form.rut.errors }} <!-- Mostrar errores específicos del campo RUT -->
            </div>

            {{ form|crispy }}  <!-- Aquí se renderizan los demás campos del formulario -->
            <br>
            <button type="submit" class="btn tipo1 flagf float-end button">Guardar</button>               
            <a href="/menu/" class="btn tipo1 flagf float-end button">Cancelar</a>    
            <br>
            <br>              
        </form>

        {{ mensaje }}
    </div>
</div>
{% endblock %}
